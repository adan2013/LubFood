(this.webpackJsonplubfood=this.webpackJsonplubfood||[]).push([[0],{95:function(n,e,t){},96:function(n,e,t){"use strict";t.r(e);var i=t(0),c=t.n(i),a=t(31),r=t.n(a),o=t(21),s=t(20),u=t(26),l=t(6),d=t(7),j=t(14),b=t(10),p=t(71),x=t(46),O=t(66),h=t(67),f=t(75),g=t(74),m=t(59);t(86),t(87);m.a.initializeApp({apiKey:"AIzaSyDRdHmJADtfgGpVkNCP55h1jbYkMUDY1GM",authDomain:"lubfoodgh.firebaseapp.com",projectId:"lubfoodgh",storageBucket:"lubfoodgh.appspot.com",messagingSenderId:"719043369683",appId:"1:719043369683:web:6b35ccb6f9d50abebad226"});var v,k,w,y,z,C,R,S,E,T,L,F,P=m.a,A="authenticatedWithFirebase",D=function(){return window.localStorage.setItem(A,(new Date).toString())},N=function(){return window.localStorage.removeItem(A)},U=t(2),I=Object(i.createContext)({user:null}),V=function(n){Object(f.a)(t,n);var e=Object(g.a)(t);function t(){var n;Object(O.a)(this,t);for(var i=arguments.length,c=new Array(i),a=0;a<i;a++)c[a]=arguments[a];return(n=e.call.apply(e,[this].concat(c))).state={user:null},n.componentDidMount=function(){P.auth().onAuthStateChanged((function(e){e?(D(),n.setState({user:e})):(N(),n.setState({user:null}))}))},n}return Object(h.a)(t,[{key:"render",value:function(){return Object(U.jsx)(I.Provider,{value:this.state.user,children:this.props.children})}}]),t}(i.Component),M=t.p+"static/media/lubfoodlogo.00dc66c1.png",W=d.a.div(v||(v=Object(l.a)(["\n    background-color: #393e46;\n    width: 100vw;\n    max-width: 800px;\n    height: 100vh;\n    text-align: center;\n    padding: 80px 50px 0 50px;\n    box-shadow: 0 0 30px 6px rgba(0,0,0,0.75);\n"]))),G=d.a.div(k||(k=Object(l.a)(["\n    margin-bottom: 30px;\n  \n    img {\n        max-width: 80%;\n    }\n"]))),B=Object(d.a)(j.a)(w||(w=Object(l.a)(["\n    margin-right: 14px;\n"]))),H=Object(d.a)(p.a)(y||(y=Object(l.a)(["\n    padding: 10px 20px;\n"]))),J=d.a.div(z||(z=Object(l.a)(["\n    color: #fff;\n    font-size: 20px;\n    animation: pulse 0.5s infinite;\n    animation-direction: alternate;\n\n    @keyframes pulse {\n        0% { color: rgba(255, 255, 255, 1) }\n        100% { color: rgba(255, 255, 255, 0.2) }\n    }\n"]))),K=Object(d.a)(p.a)(C||(C=Object(l.a)(["\n    padding: 4px 20px;\n    position: fixed;\n    bottom: 10px;\n    transform: translateX(-50%);\n"]))),Y=function(){D();var n=new x.a.auth.GoogleAuthProvider;x.a.auth().signInWithRedirect(n).catch((function(n){return alert("AUTH ERROR: ".concat(n))}))},Z=function(){var n=Object(i.useContext)(I),e=null!==window.localStorage.getItem(A);return n?Object(U.jsx)(s.a,{to:"/recipes"}):Object(U.jsxs)(W,{children:[Object(U.jsx)(G,{children:Object(U.jsx)("img",{src:M,alt:"lubfood logo"})}),e?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(J,{children:"Logowanie w toku..."}),Object(U.jsx)(K,{variant:"danger",size:"sm",onClick:Y,children:"Spr\xf3buj ponownie"})]}):Object(U.jsxs)(H,{variant:"light",onClick:Y,children:[Object(U.jsx)(B,{icon:b.g}),"Zaloguj do systemu"]})]})},X=[{icon:b.v,name:"Przepisy",path:"/recipes"},{icon:b.p,name:"Zakupy",path:"/shoping-list"},{icon:b.n,name:"Szukaj",path:"/search"},{icon:b.a,name:"Sk\u0142adniki",path:"/ingredients"},{icon:b.u,name:"Profil",path:"/profile"}],Q=d.a.div(R||(R=Object(l.a)(["\n    width: 100%;\n    max-width: 800px;\n    position: fixed;\n    bottom: 0;\n    background-color: #2868ac;\n    height: 70px;\n    display: flex;\n    border-top: 1px #222020 solid;\n    z-index: 9999;\n"]))),q=Object(d.a)(u.b)(S||(S=Object(l.a)(["\n    flex: 1;\n    color: #fff;\n    padding: 14px 2px 5px 2px;\n    text-decoration: none;\n    text-align: center;\n    line-height: 20px;\n    font-size: 12px;\n\n    &.active {\n        background-color: #0c0c0c;\n    }\n    \n    &:hover {\n        background-color: #0c0c0c;\n        text-decoration: none;\n        color: #fff;\n    }\n    \n    .menu-icon {\n        font-size: 22px;\n        display: block;\n        margin: 0 auto 4px auto;\n    }\n"]))),$=function(){var n=Object(s.h)();return Object(U.jsx)(Q,{children:X.map((function(e){return Object(U.jsxs)(q,{to:e.path,className:n.pathname.indexOf(e.path)>=0&&"active",children:[Object(U.jsx)(j.a,{className:"menu-icon",icon:e.icon}),e.name]},e.name)}))})},_=d.a.div(E||(E=Object(l.a)(["\n    background-color: #3589e3;\n    width: 100%;\n    height: 100vh;\n"]))),nn=d.a.div(T||(T=Object(l.a)(["\n    background-color: #3589e3;\n    color: #fff;\n    min-height: 100%;\n    padding: 5px 5px 90px 5px;\n    box-shadow: 0 0 30px 6px rgba(0, 0, 0, 0.75);\n"]))),en=function(n){var e=!window.location.href.includes("/cooking");return Object(U.jsxs)(_,{children:[Object(U.jsx)(nn,{children:n.children}),e&&Object(U.jsx)($,{})]})},tn={categories:[{code:"cakes",name:"Ciasta"},{code:"maindishes",name:"Dania g\u0142\xf3wne"},{code:"desserts",name:"Desery"},{code:"drinks",name:"Napoje"},{code:"snacks",name:"Przek\u0105ski"},{code:"soups",name:"Zupy"}],ingredientUtils:[{code:"UNKNOW",name:"Dowolna",label:"",min:0,max:0,step:null},{code:"QUANTITY",name:"Sztuki",label:" szt.",min:0,max:20,step:[.25,1]},{code:"ML",name:"Mililitry",label:" ml",min:0,max:3e3,step:[10,100]},{code:"GLASS",name:"Szklanki",label:" szklanki",min:0,max:10,step:[.25,1]},{code:"KG",name:"Kilogramy",label:" kg",min:0,max:10,step:[.1,.5]},{code:"G",name:"Gramy",label:" g",min:0,max:5e3,step:[10,100]},{code:"SPOON",name:"\u0141y\u017cka",label:" \u0142y\u017cki",min:0,max:10,step:[.25,1]},{code:"TEASPOON",name:"\u0141y\u017ceczka",label:" \u0142y\u017ceczki",min:0,max:10,step:[.5,1]}]},cn=d.a.div(L||(L=Object(l.a)(["\n    position: relative;\n    text-align: center;\n    margin: 10px auto;\n    font-size: 24px;\n    font-weight: bold;\n"]))),an=Object(d.a)(p.a)(F||(F=Object(l.a)(["\n    position: absolute;\n    min-width: 60px;\n    left: ",";\n    right: ",";\n"])),(function(n){return n.onRight?"inherit":"10px"}),(function(n){return n.onRight?"10px":"inherit"})),rn=function(n){var e=n.onRight,t=n.buttonObj,i=Object(s.g)().push;return t?Object(U.jsx)(an,{variant:t.variant,onRight:e,onClick:function(){return i(t.link)},children:Object(U.jsx)(j.a,{icon:t.icon})}):Object(U.jsx)(U.Fragment,{})};rn.defaultProps={onRight:!1};var on,sn,un,ln,dn=function(n){var e=n.children,t=n.leftButton,i=n.rightButton;return Object(U.jsxs)(cn,{children:[Object(U.jsx)(rn,{buttonObj:t}),e,Object(U.jsx)(rn,{onRight:!0,buttonObj:i})]})},jn=d.a.div(on||(on=Object(l.a)(["\n    padding: 10px;\n"]))),bn=Object(d.a)(p.a)(sn||(sn=Object(l.a)(["\n    position: relative;\n    text-align: left;\n    line-height: 40px;\n    margin-bottom: 12px;\n"]))),pn=Object(d.a)(j.a)(un||(un=Object(l.a)(["\n    position: absolute;\n    right: 20px;\n    margin-top: 20px;\n    transform: translateY(-50%);\n"]))),xn=function(){var n=Object(s.g)();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(dn,{children:"Wybierz kategori\u0119"}),Object(U.jsx)(jn,{children:tn.categories.map((function(e){return Object(U.jsxs)(bn,{variant:"light",block:!0,onClick:function(){return n.push("/recipes/".concat(e.code))},children:[e.name,Object(U.jsx)(pn,{icon:b.d})]},e.code)}))})]})},On=t(38),hn="recipes",fn="steps",gn="ingredients",mn=function(n){return P.firestore().collection(hn).doc(n).get().then((function(n){return n.exists?n.data():[]})).catch((function(n){return alert("GET ERROR ".concat(n.code))}))},vn=function(){return P.firestore().collection(hn).get().then((function(n){var e=[];return n.forEach((function(n){e.push(Object(o.a)({id:n.id},n.data()))})),e})).catch((function(n){return alert("SEARCH ERROR ".concat(n.code))}))},kn=function(n,e){return P.firestore().collection(hn).doc(n).get().then((function(n){return n.data()[e]})).catch((function(n){return alert("GET ERROR ".concat(n.code))}))},wn=function(n,e,t){return P.firestore().collection(hn).doc(n).update(Object(On.a)({},e,t)).catch((function(n){return alert("UPDATE ERROR ".concat(n.code))}))},yn=function(n,e){return wn(n,fn,e)},zn=function(n,e){return wn(n,gn,e)},Cn=t(13),Rn=d.a.div(ln||(ln=Object(l.a)(["\n    text-align: center;\n    margin: 15px auto;\n    font-size: 18px;\n    font-style: italic;\n"]))),Sn=function(n){var e=n.viewer,t=n.loader,c=n.refreshFlag,a=n.noPreventEmptyList,r=Object(i.useState)(null),o=Object(Cn.a)(r,2),s=o[0],u=o[1];return Object(i.useEffect)((function(){t().then((function(n){return u(n)}))}),[t,c]),s?!a&&Array.isArray(s)&&0===s.length?Object(U.jsx)(Rn,{children:"Lista jest pusta"}):e(s,u):Object(U.jsx)(Rn,{children:"\u0141adowanie..."})};Sn.defaultProps={refreshFlag:!1,noPreventEmptyList:!1};var En,Tn,Ln,Fn=Sn,Pn=d.a.div(En||(En=Object(l.a)(["\n    padding: 10px;\n"]))),An=Object(d.a)(p.a)(Tn||(Tn=Object(l.a)(["\n    position: relative;\n    text-align: left;\n    line-height: 40px;\n    margin-bottom: 12px;\n"]))),Dn=Object(d.a)(j.a)(Ln||(Ln=Object(l.a)(["\n    position: absolute;\n    right: 20px;\n    margin-top: 20px;\n    transform: translateY(-50%);\n"]))),Nn=function(){var n=Object(s.g)(),e=Object(s.i)().category;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(dn,{leftButton:{link:"/recipes",variant:"light",icon:b.c},rightButton:{link:"/recipes/".concat(e,"/add"),variant:"success",icon:b.m},children:tn.categories.find((function(n){return n.code===e})).name}),Object(U.jsx)(Fn,{loader:function(){return function(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return P.firestore().collection(hn).where("category","==",n).get().then((function(n){var t=[];return n.forEach((function(n){t.push(Object(o.a)({id:n.id},n.data()))})),e&&(t=t.sort((function(n,e){return n.name<e.name?-1:n.name>e.name?1:0}))),t})).catch((function(n){return alert("GET ERROR ".concat(n.code))}))}(e)},viewer:function(t){return Object(U.jsx)(Pn,{children:t.map((function(t){return Object(U.jsxs)(An,{variant:"light",block:!0,onClick:function(){return n.push("/recipes/".concat(e,"/").concat(t.id))},children:[t.name,Object(U.jsx)(Dn,{icon:b.d})]},t.id)}))})}})]})},Un=t(73),In=t(104),Vn=function(n){var e=n.show,t=n.onCancel,i=n.onSubmit,c=n.title,a=n.text;return Object(U.jsxs)(In.a,{show:e,onHide:t,children:[Object(U.jsx)(In.a.Header,{closeButton:!0,children:Object(U.jsx)(In.a.Title,{children:c})}),Object(U.jsx)(In.a.Body,{children:a}),Object(U.jsxs)(In.a.Footer,{children:[Object(U.jsx)(p.a,{variant:"secondary",onClick:t,children:"Anuluj"}),Object(U.jsx)(p.a,{variant:"danger",onClick:i,children:"Potwierd\u017a"})]})]})};Vn.defaultProps={show:!0,title:"Potwierdzenie",text:"Czy na pewno chcesz kontynuowa\u0107?"};var Mn,Wn,Gn,Bn,Hn,Jn,Kn,Yn,Zn,Xn,Qn,qn,$n,_n,ne,ee,te=Vn,ie=t(33),ce=t(101),ae=t(102),re=t(105),oe="shoppingList",se=function(n,e){var t;return P.firestore().collection(oe).doc(n).set({list:"string"===typeof e?P.firestore.FieldValue.arrayUnion(e):(t=P.firestore.FieldValue).arrayUnion.apply(t,Object(ie.a)(e))},{merge:!0}).catch((function(n){return alert("UPDATE ERROR ".concat(n.code))}))},ue=t(72),le=t.n(ue),de=function(n){var e=tn.ingredientUtils.find((function(e){return e.code===n}));return e?e.name:""},je=d.a.div(Mn||(Mn=Object(l.a)(["\n    text-align: center;\n"]))),be=d.a.div(Wn||(Wn=Object(l.a)(["\n    position: relative;\n    background-color: #fff;\n    max-width: 600px;\n    margin: 0 auto 5px auto;\n    height: 44px;\n    line-height: 44px;\n    border-radius: 4px;\n    color: #000;\n    padding-left: 70px;\n    overflow-y: hidden;\n    text-align: left;\n    text-decoration: ",";\n"])),(function(n){return n.lineThrough?"line-through":"none"})),pe=Object(d.a)(p.a)(Gn||(Gn=Object(l.a)(["\n    position: absolute;\n    top: 6px;\n    left: 6px;\n    min-width: 50px;\n    text-align: center;\n"]))),xe=Object(d.a)(ce.a)(Bn||(Bn=Object(l.a)(["\n    display: block;\n    text-align: center;\n    padding: 0 15px;\n    max-width: 600px;\n    margin: 15px auto;\n    svg { margin: 0 8px; }\n"]))),Oe=Object(d.a)(ae.a)(Hn||(Hn=Object(l.a)(["\n    margin: 15px auto;\n    max-width: 600px;\n"]))),he=function(n){var e=n.item,t=n.itemAdded,c=n.addOption,a=n.deleteOption,r=Object(i.useState)(!1),o=Object(Cn.a)(r,2),s=o[0],u=o[1],l=P.auth().currentUser.uid;return Object(U.jsxs)(be,{lineThrough:a&&s,children:[c&&Object(U.jsx)(pe,{variant:"success",size:"sm",disabled:s||t,onClick:function(){u(!0),se(l,e)},children:Object(U.jsx)(j.a,{icon:s||t?b.b:b.p})}),a&&Object(U.jsx)(pe,{variant:"danger",size:"sm",disabled:s,onClick:function(){u(!0),function(n,e){var t;P.firestore().collection(oe).doc(n).set({list:"string"===typeof e?P.firestore.FieldValue.arrayRemove(e):(t=P.firestore.FieldValue).arrayRemove.apply(t,Object(ie.a)(e))},{merge:!0}).catch((function(n){return alert("UPDATE ERROR ".concat(n.code))}))}(l,e)},children:Object(U.jsx)(j.a,{icon:b.s})}),e]})},fe=function(n){var e=Object(i.useState)(function(n){return 0===n.length?[]:"string"===typeof n[0]?n:"object"===typeof n[0]&&null!==n[0]?n.map((function(n){return""===n.unit?"":"".concat(n.name," (").concat(de(n.unit),")").concat(0===n.value?"":" - "+n.value)})):[]}(n.list)),t=Object(Cn.a)(e,2),c=t[0],a=t[1],r=Object(i.useState)(!1),s=Object(Cn.a)(r,2),u=s[0],l=s[1],d=Object(i.useState)(!1),x=Object(Cn.a)(d,2),O=x[0],h=x[1],f=Object(i.useState)(!1),g=Object(Cn.a)(f,2),m=g[0],v=g[1],k=Object(i.useState)(""),w=Object(Cn.a)(k,2),y=w[0],z=w[1],C=P.auth().currentUser.uid;return Object(U.jsxs)(je,{children:[Object(U.jsxs)(xe,{block:!0,children:[n.addAllOption&&Object(U.jsxs)(p.a,{variant:"success",disabled:u||0===c.length,onClick:function(){l(!0),se(C,c)},children:[Object(U.jsx)(j.a,{icon:u?b.b:b.p}),u?"Dodano":"Dodaj wszystkie"]}),n.clearOption&&Object(U.jsxs)(p.a,{variant:"danger",disabled:0===c.length,onClick:function(){return h(!0)},children:[Object(U.jsx)(j.a,{icon:b.s}),"Wyczy\u015b\u0107"]}),n.exportOption&&Object(U.jsxs)(p.a,{variant:"warning",disabled:m||0===c.length,onClick:function(){v(!0),le()(c.join("\n")),setTimeout((function(){return v(!1)}),2e3)},children:[Object(U.jsx)(j.a,{icon:m?b.b:b.e}),m?"Zapisano!":"Do schowka"]})]}),c.map((function(e){return Object(U.jsx)(he,Object(o.a)({item:e,itemsAdded:u},n),e)})),0===c.length&&Object(U.jsx)("i",{children:"Lista sk\u0142adnik\xf3w jest pusta"}),n.manualAdder&&Object(U.jsxs)(Oe,{children:[Object(U.jsx)(re.a.Control,{type:"text",value:y,onChange:function(n){return z(n.target.value)},placeholder:"Nowa pozycja",maxLength:"50"}),Object(U.jsx)(ae.a.Append,{children:Object(U.jsx)(p.a,{variant:"success",disabled:y.length<5,onClick:function(){a([].concat(Object(ie.a)(c),[y])),se(C,y),z("")},children:"Dodaj"})})]}),Object(U.jsx)(te,{show:O,onSubmit:function(){h(!1),a([]),function(n){P.firestore().collection(oe).doc(n).set({list:[]}).catch((function(n){return alert("SET ERROR ".concat(n.code))}))}(C)},onCancel:function(){return h(!1)},text:"Czy chcesz usun\u0105\u0107 ca\u0142\u0105 list\u0119 zakup\xf3w?"})]})},ge=d.a.div(Jn||(Jn=Object(l.a)(["\n    margin: 50px 20px 30px;\n    font-size: 1.2rem;\n"]))),me=d.a.div(Kn||(Kn=Object(l.a)(["\n    text-align: center;\n    margin-top: 14px;\n"]))),ve=d.a.div(Yn||(Yn=Object(l.a)(["\n    text-align: center;\n    font-weight: bold;\n    margin: 6px 0 0 0;\n"]))),ke=d.a.div(Zn||(Zn=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    margin-top: 20px;\n"]))),we=d.a.div(Xn||(Xn=Object(l.a)(["\n    flex: 1;\n    font-size: 14px;\n    text-align: center;\n  \n    div {\n        font-size: 3rem;\n    }\n"]))),ye=Object(d.a)(p.a)(Qn||(Qn=Object(l.a)(["\n    min-width: 200px;\n    max-width: 600px;\n    margin: 5px auto;\n    svg { margin-right: 6px; }\n"]))),ze=function(n){var e=n.level;return Object(U.jsx)(ve,{children:[1,2,3,4,5].map((function(n){return Object(U.jsx)(j.a,{icon:e>=n?b.q:Un.a},n)}))})},Ce=function(n){var e=n.minutes,t=n.description,i=Math.floor(e/60),c=e%60;return c<10&&(c="0"+c),Object(U.jsxs)(we,{children:[0===e?Object(U.jsx)("div",{children:"--:--"}):Object(U.jsxs)("div",{children:[i,":",c]}),t]})},Re=function(){var n=Object(i.useState)(!1),e=Object(Cn.a)(n,2),t=e[0],c=e[1],a=Object(s.g)().push,r=Object(s.i)(),o=r.category,u=r.recipe;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Fn,{loader:function(){return mn(u)},viewer:function(n){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(dn,{leftButton:{link:"/recipes/".concat(o),variant:"light",icon:b.c},rightButton:n.steps.length>0&&{link:"/recipes/".concat(o,"/").concat(u,"/cooking"),variant:"success",icon:b.k},children:"Podgl\u0105d przepisu"}),Object(U.jsxs)(ge,{children:[Object(U.jsx)(ve,{children:n.name}),Object(U.jsx)(ze,{level:n.difficult}),Object(U.jsxs)(ke,{children:[Object(U.jsx)(Ce,{minutes:n.preparationTime,description:"Czas przygotowywania"}),Object(U.jsx)(Ce,{minutes:n.cookingTime,description:"Czas gotowania"})]})]}),Object(U.jsx)(me,{children:"Lista sk\u0142adnik\xf3w"}),Object(U.jsx)(fe,{list:n.ingredients,addOption:!0,addAllOption:!0,exportOption:!0}),Object(U.jsx)(me,{children:"Zarz\u0105dzanie przepisem"}),Object(U.jsxs)(ve,{children:[Object(U.jsx)(ye,{variant:"secondary",block:!0,onClick:function(){return a("/recipes/".concat(o,"/").concat(u,"/edit-recipe"))},children:"Edytuj przepis"}),Object(U.jsx)(ye,{variant:"secondary",block:!0,onClick:function(){return a("/recipes/".concat(o,"/").concat(u,"/edit-ingredients"))},children:"Edytuj list\u0119 sk\u0142adnik\xf3w"}),Object(U.jsx)(ye,{variant:"secondary",block:!0,onClick:function(){return a("/recipes/".concat(o,"/").concat(u,"/edit-steps"))},children:"Edytuj list\u0119 krok\xf3w"}),Object(U.jsxs)(ye,{variant:"danger",block:!0,onClick:function(){return c(!0)},children:[Object(U.jsx)(j.a,{icon:b.s})," Usu\u0144 przepis"]})]})]})}}),Object(U.jsx)(te,{show:t,text:"Czy chcesz usun\u0105\u0107 ca\u0142y przepis?",onSubmit:function(){return(n=u,P.firestore().collection(hn).doc(n).delete().catch((function(n){return alert("DELETE ERROR ".concat(n.code))}))).then((function(){return a("/recipes/".concat(o))}));var n},onCancel:function(){return c(!1)}})]})},Se=function(n){var e=Object(i.useState)({isRunning:!1,startTime:0,initialTime:0,timeLeft:0,lastSetTimeValue:0}),t=Object(Cn.a)(e,2),c=t[0],a=t[1],r=Object(i.useRef)(),s=function(){a((function(e){return e.timeLeft<=0?(u(),n&&n(),Object(o.a)(Object(o.a)({},e),{},{isRunning:!1,timeLeft:0})):Object(o.a)(Object(o.a)({},e),{},{timeLeft:Math.floor(e.initialTime-(new Date-e.startTime.getTime())/1e3)})}))},u=function(){r.current&&(clearInterval(r.current),r.current=void 0)},l=function(){!c.isRunning&&c.timeLeft>0&&(a((function(n){return Object(o.a)(Object(o.a)({},n),{},{isRunning:!0,initialTime:n.timeLeft,startTime:new Date})})),r.current||(r.current=setInterval(s,100),s()))};return Object(i.useEffect)((function(){return u}),[]),{isRunning:c.isRunning,timeLeft:c.timeLeft,play:l,pause:function(){c.isRunning&&(a((function(n){return Object(o.a)(Object(o.a)({},n),{},{isRunning:!1})})),u())},resetTime:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];a((function(e){return Object(o.a)(Object(o.a)({},e),{},{isRunning:!n&&e.isRunning,startTime:new Date,initialTime:e.lastSetTimeValue,timeLeft:e.lastSetTimeValue})})),n&&u()},setTime:function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];a({isRunning:!1,startTime:0,initialTime:n,timeLeft:n,lastSetTimeValue:n}),u(),e&&l()}}},Ee=d.a.div(qn||(qn=Object(l.a)(["\n    display: ",";\n    position: fixed;\n    left: 0;\n    bottom: 180px;\n    width: 100%;\n"])),(function(n){return n.hide?"none":"block"})),Te=d.a.div($n||($n=Object(l.a)(["\n    position: relative;\n    background-color: #fff;\n    border-radius: 5px;\n    width: 320px;\n    max-width: 90vw;\n    height: 90px;\n    margin: 0 auto;\n    color: #000;\n"]))),Le=d.a.div(_n||(_n=Object(l.a)(["\n    text-align: center;\n    font-weight: bold;\n    padding: 8px 0;\n"]))),Fe=d.a.div(ne||(ne=Object(l.a)(["\n    text-align: center;\n    font-size: 2rem;\n    position: relative;\n    bottom: 6px;\n    margin: 0 70px;\n"]))),Pe=Object(d.a)(p.a)(ee||(ee=Object(l.a)(["\n    position: absolute;\n    left: ",";\n    right: ",";\n"])),(function(n){return n.onRight?"inherit":"10px"}),(function(n){return n.onRight?"10px":"inherit"})),Ae=function(n){if(0===n)return"-:--:--";var e=Math.floor(n/3600),t=Math.floor(n/60),i=Math.floor(n-3600*e-60*t);return t<10&&(t="0"+t),i<10&&(i="0"+i),"".concat(e,":").concat(t,":").concat(i)},De=function(n){var e=n.popupMode,t=n.stepTimerValue,c=n.fontSize,a=n.onFontSizeChange,r=n.onTimeOver,o=Se((function(){r&&r()})),s=o.isRunning,u=o.timeLeft,l=o.play,d=o.pause,p=o.setTime;Object(i.useEffect)((function(){s||p(60*t)}),[t]);return Object(U.jsx)(Ee,{hide:"OFF"===e,children:Object(U.jsxs)(Te,{children:[Object(U.jsx)(Le,{children:"TIMER"===e?"Timer":"Rozmiar czcionki"}),"TIMER"===e?Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Pe,{variant:"secondary",onClick:function(){s?d():l()},children:Object(U.jsx)(j.a,{icon:s?b.i:b.j})}),Object(U.jsx)(Pe,{variant:"secondary",disabled:s,onClick:function(){s||p(60*t)},onRight:!0,children:Object(U.jsx)(j.a,{icon:b.t})}),Object(U.jsx)(Fe,{children:Ae(u)})]}):Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Pe,{variant:"secondary",disabled:c-2<18,onClick:function(){return a(c-2)},children:Object(U.jsx)(j.a,{icon:b.h})}),Object(U.jsx)(Pe,{variant:"secondary",disabled:c+2>50,onClick:function(){return a(c+2)},onRight:!0,children:Object(U.jsx)(j.a,{icon:b.l})}),Object(U.jsx)(Fe,{children:c})]})]})})};De.defaultProps={popupMode:"OFF"};var Ne,Ue,Ie,Ve,Me,We,Ge=De,Be=d.a.div(Ne||(Ne=Object(l.a)(["\n    font-size: ",";\n    padding: 20px 20px 100px;\n"])),(function(n){return n.fontSize+"px"})),He=d.a.div(Ue||(Ue=Object(l.a)(["\n    position: fixed;\n    left: 50%;\n    bottom: 0;\n    width: 100%;\n    max-width: 800px;\n    background-color: #3589e3;\n    transform: translateX(-50%);\n"]))),Je=d.a.div(Ie||(Ie=Object(l.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    max-width: 300px;\n    margin: 15px auto;\n"]))),Ke=Object(d.a)(p.a)(Ve||(Ve=Object(l.a)(["\n    flex: 1;\n    border-radius: 50%;\n    display: block;\n    max-width: 60px;\n    height: 60px;\n    margin: 0 auto;\n    font-size: 1.6rem;\n"]))),Ye=function(n){var e=n.variant,t=void 0===e?"light":e,i=n.icon,c=n.onClick,a=n.disabled;return Object(U.jsx)(Ke,{variant:t,onClick:c,disabled:a,children:Object(U.jsx)(j.a,{icon:i})})},Ze=function(){var n=Object(i.useState)(!1),e=Object(Cn.a)(n,2),t=e[0],c=e[1],a=Object(i.useState)("OFF"),r=Object(Cn.a)(a,2),o=r[0],u=r[1],l=Object(i.useState)(28),d=Object(Cn.a)(l,2),j=d[0],p=d[1],x=Object(i.useState)(0),O=Object(Cn.a)(x,2),h=O[0],f=O[1],g=Object(i.useState)(!1),m=Object(Cn.a)(g,2),v=m[0],k=m[1],w=Object(s.g)().push,y=Object(s.i)(),z=y.category,C=y.recipe;Object(i.useEffect)((function(){t&&c(!1)}),[h]);var R=function(){return f((function(n){return n--}))},S=function(){return f((function(n){return n++}))},E=function(n){return u(n===o?"OFF":n)};return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Fn,{loader:function(){return mn(C)},viewer:function(n){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(Be,{fontSize:j,children:t?(e=n.ingredients,e.map((function(n,e){return Object(U.jsx)("div",{children:"".concat(e+1,". ").concat(n.name," [").concat(de(n.unit),"]").concat(0===n.value?"":" - "+n.value)},n.id)}))):"".concat(h+1,". ").concat(n.steps[h].text)}),Object(U.jsx)(Ge,{popupMode:o,stepTimerValue:n.steps[h].timer,fontSize:j,onFontSizeChange:function(n){return p(n)},onTimeOver:function(){setTimeout((function(){return u("TIMER")}),0)}}),Object(U.jsxs)(He,{children:[Object(U.jsxs)(Je,{children:[Object(U.jsx)(Ye,{icon:b.a,variant:t?"warning":void 0,onClick:function(){return c((function(n){return!n}))}}),Object(U.jsx)(Ye,{icon:b.f,variant:"TIMER"===o?"warning":void 0,onClick:function(){return E("TIMER")}}),Object(U.jsx)(Ye,{icon:b.o,variant:"FONT"===o?"warning":void 0,onClick:function(){return E("FONT")}})]}),Object(U.jsxs)(Je,{children:[Object(U.jsx)(Ye,{icon:b.c,disabled:0===h,onClick:R}),Object(U.jsx)(Ye,{icon:b.r,variant:"secondary",onClick:function(){return k(!0)}}),Object(U.jsx)(Ye,{icon:b.d,disabled:n.steps.length-1<=h,onClick:S})]})]})]});var e}}),Object(U.jsx)(te,{show:v,text:"Czy chcesz wyj\u015b\u0107 z trybu gotowania?",onSubmit:function(){return w("/recipes/".concat(z,"/").concat(C))},onCancel:function(){return k(!1)}})]})},Xe=d.a.div(Me||(Me=Object(l.a)(["\n    margin: 2px 0;\n"]))),Qe=Object(d.a)(p.a)(We||(We=Object(l.a)(["\n      min-width: 40px;\n      font-weight: bold;\n      font-size: 12px;\n"]))),qe=function(n){var e=n.minValue,t=n.maxValue,c=n.step,a=n.value,r=n.onChange,o=n.prefix,s=n.label,u=n.zeroCustomText,l=Object(i.useState)(a),d=Object(Cn.a)(l,2),j=d[0],b=d[1];Object(i.useEffect)((function(){return b(a)}),[a]);var p=function(n){b((function(e){var t=Math.round(100*(e+n))/100;return r(t),t}))};return Object(U.jsx)(Xe,{children:Object(U.jsxs)(ae.a,{children:[c&&Object(U.jsx)(ae.a.Prepend,{children:c.slice().reverse().map((function(n){return Object(U.jsxs)(Qe,{variant:"secondary",onClick:function(){return p(-n)},disabled:j-n<e,children:["-",n]},"dn"+n)}))}),Object(U.jsx)(re.a.Control,{type:"text",value:0===j&&u?u:"".concat(o).concat(j).concat(s),style:{textAlign:"center"},readOnly:!0}),c&&Object(U.jsx)(ae.a.Append,{children:c.map((function(n){return Object(U.jsxs)(Qe,{variant:"secondary",onClick:function(){return p(n)},disabled:j+n>t,children:["+",n]},"up"+n)}))})]})})};qe.defaultProps={minValue:0,maxValue:100,step:[1],prefix:"",label:""};var $e,_e,nt,et,tt,it,ct,at,rt,ot,st,ut,lt,dt,jt,bt,pt,xt,Ot,ht,ft,gt,mt,vt,kt,wt=qe,yt=d.a.div($e||($e=Object(l.a)(["\n    padding: 10px;\n"]))),zt=d.a.div(_e||(_e=Object(l.a)(["\n    text-align: center;\n    margin-top: 10px;\n    margin-bottom: 4px;\n"]))),Ct=d.a.div(nt||(nt=Object(l.a)(["\n    text-align: center;\n    font-size: 14px;\n    margin: 15px auto 0 auto;\n    max-width: 400px;\n"]))),Rt=function(){var n=Object(i.useState)(""),e=Object(Cn.a)(n,2),t=e[0],c=e[1],a=Object(i.useState)(1),r=Object(Cn.a)(a,2),o=r[0],u=r[1],l=Object(i.useState)(0),d=Object(Cn.a)(l,2),j=d[0],x=d[1],O=Object(i.useState)(0),h=Object(Cn.a)(O,2),f=h[0],g=h[1],m=Object(s.g)(),v=Object(s.i)(),k=v.category,w=v.recipe;Object(i.useEffect)((function(){w&&mn(w).then((function(n){c(n.name),u(n.difficult),x(n.preparationTime),g(n.cookingTime)}))}),[]);return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(dn,{leftButton:{link:w?"/recipes/".concat(k,"/").concat(w):"/recipes/".concat(k),variant:"light",icon:b.c},children:w?"Edycja przepisu":"Nowy przepis"}),Object(U.jsxs)(yt,{children:[Object(U.jsx)(zt,{children:"Nazwa przepisu"}),Object(U.jsx)(re.a.Control,{type:"text",value:t,onChange:function(n){return c(n.target.value)},maxLength:40}),Object(U.jsx)(zt,{children:"Trudno\u015b\u0107 w przygotowaniu"}),Object(U.jsx)(wt,{onChange:function(n){return u(n)},value:o,minValue:1,maxValue:5,label:"/5"}),Object(U.jsx)(zt,{children:"Czas przygotowania"}),Object(U.jsx)(wt,{onChange:function(n){return x(n)},value:j,step:[10],maxValue:300,label:" min",downText:"-10",upText:"+10"}),Object(U.jsx)(zt,{children:"Czas gotowania"}),Object(U.jsx)(wt,{onChange:function(n){return g(n)},value:f,step:[10],maxValue:300,label:" min",downText:"-10",upText:"+10"}),Object(U.jsx)(Ct,{children:"Redagowanie listy sk\u0142adnik\xf3w oraz krok\xf3w gotowania mo\u017cliwe jest z poziomu ekranu przepisu"}),Object(U.jsx)(p.a,{variant:"success",style:{marginTop:"20px"},disabled:!(t.length>3),onClick:function(){w?function(n,e,t,i,c){return P.firestore().collection(hn).doc(n).update({name:e,difficult:t,preparationTime:i,cookingTime:c}).catch((function(n){return alert("UPDATE ERROR ".concat(n.code))}))}(w,t,o,j,f).then((function(){return m.push("/recipes/".concat(k,"/").concat(w))})):function(n,e,t,i,c){var a;return P.firestore().collection(hn).add((a={category:n,name:e,difficult:t,preparationTime:i,cookingTime:c},Object(On.a)(a,fn,[]),Object(On.a)(a,gn,[]),a)).then((function(n){return n.id})).catch((function(n){return alert("ADD ERROR ".concat(n.code))}))}(k,t,o,j,f).then((function(n){return m.push("/recipes/".concat(k,"/").concat(n))}))},block:!0,children:w?"Zaktualizuj przepis":"Dodaj przepis"})]})]})},St=d.a.div(et||(et=Object(l.a)(["\n    background-color: ",";\n    border-radius: 4px;\n    margin-bottom: 5px;\n    padding: 10px;\n    position: relative;\n"])),(function(n){return n.highlight?"#ffa14d":"#ececec"})),Et=d.a.div(tt||(tt=Object(l.a)(["\n    color: #000;\n    line-height: 30px;\n    margin-bottom: 6px;\n"]))),Tt=Object(d.a)(p.a)(it||(it=Object(l.a)(["\n    position: absolute;\n    top: 6px;\n    right: 10px;\n    min-width: 50px;\n    text-align: center;\n"]))),Lt=d.a.select(ct||(ct=Object(l.a)(["\n    width: 100%;\n    margin-bottom: 10px;\n    padding: 4px;\n    border-radius: 4px;\n"]))),Ft=function(n){var e=n.dictionary,t=n.value,i=n.onChange;return Object(U.jsxs)(Lt,{value:t,onChange:function(n){return i(n.target.value)},children:[Object(U.jsx)("option",{value:"",children:" - wybierz sk\u0142adnik z listy - "}),e.map((function(n){return Object(U.jsxs)("option",{value:n.id,children:[n.name," [",de(n.unit),"]"]},n.id)}))]})},Pt=function(n){var e=n.no,t=n.dictionary,c=n.initialValues,a=n.onDelete,r=n.onUpdate,s=Object(i.useState)(!1),u=Object(Cn.a)(s,2),l=u[0],d=u[1],p=Object(i.useState)(!1),x=Object(Cn.a)(p,2),O=x[0],h=x[1],f=Object(i.useState)(c.id),g=Object(Cn.a)(f,2),m=g[0],v=g[1],k=Object(i.useState)(c.value),w=Object(Cn.a)(k,2),y=w[0],z=w[1],C=function(n,e){if(""===e||void 0===e)return{};var t=n.find((function(n){return n.id===e})).unit,i=tn.ingredientUtils.find((function(n){return n.code===t}));return i?{minValue:i.min,maxValue:i.max,step:i.step,label:i.label,code:i.code}:{}}(t,m);return Object(U.jsxs)(St,{highlight:l,children:[Object(U.jsxs)(Et,{children:["Sk\u0142adnik nr ",e]}),!l&&Object(U.jsx)(Tt,{variant:"danger",size:"sm",onClick:function(){return h(!0)},children:Object(U.jsx)(j.a,{icon:b.s})}),l&&Object(U.jsx)(Tt,{variant:"success",size:"sm",onClick:function(){r(e-1,function(n,e){var t=n.find((function(n){return n.id===e}));return t?{id:t.id,name:t.name,unit:t.unit}:{id:"",name:"",unit:""}}(t,m),y),d(!1)},children:Object(U.jsx)(j.a,{icon:b.b})}),Object(U.jsx)(Ft,{onChange:function(n){z(0),v(n),d(!0)},dictionary:t,value:m}),""!==m&&"UNKNOW"!==C.code&&Object(U.jsx)(wt,Object(o.a)({value:y,onChange:function(n){z(n),d(!0)}},C)),Object(U.jsx)(te,{show:O,onSubmit:function(){return a(e-1)},onCancel:function(){return h(!1)},text:"Czy chcesz usun\u0105\u0107 ten sk\u0142adnik? UWAGA: ta operacja zresetuje wszystkie niezapisane dane z pozosta\u0142ych sk\u0142adnik\xf3w!"})]})},At="ingredients",Dt=function(){return P.firestore().collection(At).get().then((function(n){return n.docs.map((function(n){return Object(o.a)({id:n.id},n.data())})).sort((function(n,e){return n.name<e.name?-1:n.name>e.name?1:0}))})).catch((function(n){return alert("GET ERROR ".concat(n.code))}))},Nt=function(n){var e=function(n){return kn(n,gn)}(n),t=Dt();return Promise.all([e,t]).then((function(n){return{recipe:n[0],dictionary:n[1]}}))},Ut=function(n){return JSON.parse(JSON.stringify(n))},It=d.a.div(at||(at=Object(l.a)(["\n    text-align: center;\n    padding: 10px;\n    svg { margin: 0 4px; }\n"]))),Vt=Object(d.a)(p.a)(rt||(rt=Object(l.a)(["\n    margin-top: 10px;\n    width: 200px;\n"]))),Mt=function(){var n=Object(s.i)(),e=n.category,t=n.recipe;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(dn,{leftButton:{link:"/recipes/".concat(e,"/").concat(t),variant:"light",icon:b.c},children:"Edycja sk\u0142adnik\xf3w"}),Object(U.jsx)(It,{children:Object(U.jsx)(Fn,{noPreventEmptyList:!0,loader:function(){return Nt(t)},viewer:function(n,e){return Object(U.jsxs)(U.Fragment,{children:[n.recipe.map((function(i,c){return Object(U.jsx)(Pt,{initialValues:i,no:c+1,dictionary:n.dictionary,onDelete:function(i){return function(n,e,i){var c=Ut(e);c.recipe.splice(n,1),i(c),zn(t,c.recipe)}(i,n,e)},onUpdate:function(i,c,a){return function(n,e,i,c,a){var r=Ut(c);r.recipe[n]={id:e.id,name:e.name,unit:e.unit,value:i},a(r),zn(t,r.recipe)}(i,c,a,n,e)}},c+i.name+i.unit+i.value)})),Object(U.jsxs)(Vt,{variant:"success",onClick:function(){return function(n,e){var i=Ut(n);i.recipe.push({id:"",name:"",unit:"",value:0}),e(i),zn(t,i.recipe)}(n,e)},children:[Object(U.jsx)(j.a,{icon:b.m})," Nowy sk\u0142adnik"]})]})}})})]})},Wt=d.a.div(ot||(ot=Object(l.a)(["\n  background-color: ",";\n  border-radius: 4px;\n  margin-bottom: 5px;\n  padding: 10px;\n  position: relative;\n"])),(function(n){return n.highlight?"#ffa14d":"#ececec"})),Gt=d.a.div(st||(st=Object(l.a)(["\n  color: #000;\n  line-height: 30px;\n  margin-bottom: 6px;\n"]))),Bt=d.a.textarea(ut||(ut=Object(l.a)(["\n  width: 100%;\n  min-height: 100px;\n"]))),Ht=d.a.div(lt||(lt=Object(l.a)(["\n  color: #000;\n  font-size: 0.8rem;\n  text-align: right;\n  margin-right: 8px;\n  margin-bottom: 10px;\n"]))),Jt=Object(d.a)(p.a)(dt||(dt=Object(l.a)(["\n  position: absolute;\n  top: 6px;\n  right: 10px;\n  min-width: 50px;\n  text-align: center;\n"]))),Kt=function(n){var e=n.no,t=n.stepCount,c=n.initialValues,a=n.onDelete,r=n.onUpdate,o=Object(i.useState)(!1),s=Object(Cn.a)(o,2),u=s[0],l=s[1],d=Object(i.useState)(!1),p=Object(Cn.a)(d,2),x=p[0],O=p[1],h=Object(i.useState)(c.text),f=Object(Cn.a)(h,2),g=f[0],m=f[1],v=Object(i.useState)(c.timer),k=Object(Cn.a)(v,2),w=k[0],y=k[1];return Object(U.jsxs)(Wt,{highlight:u,children:[Object(U.jsxs)(Gt,{children:["Krok ",e," z ",t]}),!u&&Object(U.jsx)(Jt,{variant:"danger",size:"sm",onClick:function(){return O(!0)},children:Object(U.jsx)(j.a,{icon:b.s})}),u&&Object(U.jsx)(Jt,{variant:"success",size:"sm",onClick:function(){r(e-1,g,w),l(!1)},children:Object(U.jsx)(j.a,{icon:b.b})}),Object(U.jsx)(Bt,{value:g,onChange:function(n){m(n.target.value),l(!0)},maxLength:400}),Object(U.jsxs)(Ht,{children:[g.length,"/400"]}),Object(U.jsx)(wt,{value:w,onChange:function(n){y(n),l(!0)},step:[1,10],maxValue:180,prefix:"Timer: ",label:" min",zeroCustomText:"Timer wy\u0142."}),Object(U.jsx)(te,{show:x,onSubmit:function(){return a(e-1)},onCancel:function(){return O(!1)},text:"Czy chcesz usun\u0105\u0107 ten krok? UWAGA: ta operacja zresetuje wszystkie niezapisane dane z pozosta\u0142ych krok\xf3w!"})]})},Yt=d.a.div(jt||(jt=Object(l.a)(["\n    text-align: center;\n    padding: 10px;\n    svg { margin: 0 4px; }\n"]))),Zt=Object(d.a)(p.a)(bt||(bt=Object(l.a)(["\n    margin-top: 10px;\n    width: 200px;\n"]))),Xt=function(){var n=Object(s.i)(),e=n.category,t=n.recipe;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(dn,{leftButton:{link:"/recipes/".concat(e,"/").concat(t),variant:"light",icon:b.c},children:"Edycja krok\xf3w"}),Object(U.jsx)(Yt,{children:Object(U.jsx)(Fn,{noPreventEmptyList:!0,loader:function(){return kn(t,fn)},viewer:function(n,e){return Object(U.jsxs)(U.Fragment,{children:[n.map((function(i,c){return Object(U.jsx)(Kt,{initialValues:i,stepCount:n.length,no:c+1,onDelete:function(i){return function(n,e,i){var c=Object(ie.a)(e);c.splice(n,1),i(c),yn(t,c)}(i,n,e)},onUpdate:function(i,c,a){return function(n,e,i,c,a){var r=Object(ie.a)(c);r[n]={text:e,timer:i},a(r),yn(t,r)}(i,c,a,n,e)}},c+i.text+i.timer)})),Object(U.jsxs)(Zt,{variant:"success",onClick:function(){return function(n,e){var i=[].concat(Object(ie.a)(n),[{text:"",timer:0}]);e(i),yn(t,i)}(n,e)},children:[Object(U.jsx)(j.a,{icon:b.m})," Nowa pozycja"]})]})}})})]})},Qt=function(){var n=P.auth().currentUser.uid;return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(dn,{children:"Lista zakup\xf3w"}),Object(U.jsx)(Fn,{noPreventEmptyList:!0,loader:function(){return function(n){return P.firestore().collection(oe).doc(n).get().then((function(n){return n.exists?n.data().list:[]})).catch((function(n){return alert("GET ERROR ".concat(n.code))}))}(n)},viewer:function(n){return Object(U.jsx)(fe,{list:n,deleteOption:!0,clearOption:!0,exportOption:!0,manualAdder:!0})}})]})},qt=function(n){var e=tn.categories.find((function(e){return e.code===n}));return e?e.name:""},$t=d.a.div(pt||(pt=Object(l.a)(["\n    padding: 10px;\n"]))),_t=Object(d.a)(p.a)(xt||(xt=Object(l.a)(["\n    position: relative;\n    text-align: left;\n    line-height: 40px;\n    margin-bottom: 12px;\n"]))),ni=Object(d.a)(j.a)(Ot||(Ot=Object(l.a)(["\n    position: absolute;\n    right: 20px;\n    margin-top: 20px;\n    transform: translateY(-50%);\n"]))),ei=function(n){var e=n.recipes,t=n.searchQuery,i=n.historyHook;t=t.toLowerCase();var c=e.filter((function(n){return n.name.toLowerCase().includes(t)})).map((function(n){return Object(U.jsxs)(_t,{variant:"light",block:!0,onClick:function(){return i.push("/recipes/".concat(n.category,"/").concat(n.id))},children:[Object(U.jsx)("b",{children:n.name})," ",Object(U.jsxs)("i",{children:["(",qt(n.category),")"]}),Object(U.jsx)(ni,{icon:b.d})]},n.id)}));return 0===c.length?Object(U.jsx)(U.Fragment,{children:"nie znaleziono przepis\xf3w o takiej nazwie"}):c},ti=function(){var n=Object(i.useState)(""),e=Object(Cn.a)(n,2),t=e[0],c=e[1],a=Object(s.g)();return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(dn,{children:"Wyszukiwarka"}),Object(U.jsx)($t,{children:Object(U.jsx)(re.a.Control,{type:"text",value:t,onChange:function(n){return c(n.target.value)},placeholder:"Wpisz szukan\u0105 fraz\u0119 (min. 3 znaki)",maxLength:"30"})}),Object(U.jsx)($t,{children:Object(U.jsx)(Fn,{noPreventEmptyList:!0,loader:vn,viewer:function(n){return t.length>2&&Object(U.jsx)(ei,{searchQuery:t,recipes:n,historyHook:a})}})})]})},ii=t(103),ci=d.a.div(ht||(ht=Object(l.a)(["\n    padding: 10px;\n"]))),ai=Object(d.a)(p.a)(ft||(ft=Object(l.a)(["\n    position: relative;\n    text-align: left;\n    line-height: 40px;\n    margin-bottom: 12px;\n"]))),ri=Object(d.a)(j.a)(gt||(gt=Object(l.a)(["\n    position: absolute;\n    right: 20px;\n    margin-top: 20px;\n    transform: translateY(-50%);\n"]))),oi=d.a.div(mt||(mt=Object(l.a)(["\n    text-align: center;\n    margin-top: 10px;\n    margin-bottom: 4px;\n"]))),si=function(n){var e=n.onSubmit,t=Object(i.useState)(""),c=Object(Cn.a)(t,2),a=c[0],r=c[1],o=Object(i.useState)(!1),s=Object(Cn.a)(o,2),u=s[0],l=s[1],d=Object(i.useState)(tn.ingredientUtils[0].code),j=Object(Cn.a)(d,2),b=j[0],x=j[1];return Object(U.jsxs)(ci,{children:[Object(U.jsxs)(ii.a,{isOpen:u,toggle:function(){return l((function(n){return!n}))},children:[Object(U.jsxs)(ii.a.Toggle,{variant:"light",caret:!0,block:!0,children:["Jednostka: ",tn.ingredientUtils.find((function(n){return n.code===b})).name]}),Object(U.jsx)(ii.a.Menu,{children:tn.ingredientUtils.map((function(n){return Object(U.jsx)(ii.a.Item,{onClick:function(){return x(n.code)},disabled:n.code===b,children:n.name},n.code)}))})]}),Object(U.jsxs)(ae.a,{style:{marginTop:"10px"},children:[Object(U.jsx)(re.a.Control,{type:"text",value:a,onChange:function(n){return r(n.target.value)},placeholder:"Nazwa sk\u0142adnika",maxLength:"30"}),Object(U.jsx)(ae.a.Append,{children:Object(U.jsx)(p.a,{variant:"success",onClick:function(){(function(n,e){return P.firestore().collection(At).add({name:n,unit:e}).catch((function(n){return alert("ADD ERROR ".concat(n.code))}))})(a,b).then((function(){r(""),x(tn.ingredientUtils[0].code),e&&e()}))},disabled:a.length<3,children:"Dodaj"})})]})]})},ui=function(){var n=Object(i.useState)(null),e=Object(Cn.a)(n,2),t=e[0],c=e[1],a=Object(i.useState)(!1),r=Object(Cn.a)(a,2),o=r[0],s=r[1];return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)(dn,{children:"Sk\u0142adniki"}),Object(U.jsx)(oi,{children:"Nowa pozycja"}),Object(U.jsx)(si,{onSubmit:function(){return s((function(n){return!n}))}}),Object(U.jsx)(oi,{children:"Wprowadzone sk\u0142adniki"}),Object(U.jsx)(Fn,{refreshFlag:o,loader:Dt,viewer:function(n){return Object(U.jsx)(ci,{children:n.map((function(n){return Object(U.jsxs)(ai,{variant:"light",block:!0,onClick:function(){return c(n.id)},children:[Object(U.jsx)("b",{children:n.name})," ",Object(U.jsxs)("i",{children:["(",tn.ingredientUtils.find((function(e){return e.code===n.unit})).name,")"]}),Object(U.jsx)(ri,{icon:b.s,style:{color:"#d00000"}})]},n.id)}))})}}),Object(U.jsx)(te,{show:null!=t,onSubmit:function(){var n;(n=t,P.firestore().collection(At).doc(n).delete().catch((function(n){return alert("DELETE ERROR ".concat(n.code))}))).then((function(){c(null),s((function(n){return!n}))}))},onCancel:function(){return c(null)}})]})},li=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return""===e?P.firestore().collection(n).get().then((function(n){return JSON.stringify(n.docs.map((function(n){return{id:n.id,data:n.data()}})))})).catch((function(n){return alert("EXPORT ERROR ".concat(n.code))})):P.firestore().collection(n).doc(e).get().then((function(n){return JSON.stringify({id:n.id,data:n.data()})})).catch((function(n){return alert("EXPORT ERROR ".concat(n.code))}))},di=d.a.div(vt||(vt=Object(l.a)(["\n    text-align: center;\n    margin: 50px 20px 0 20px;\n"]))),ji=Object(d.a)(p.a)(kt||(kt=Object(l.a)(["\n    margin-top: 25px;\n"]))),bi=function(){x.a.auth().signOut().catch((function(n){return alert("AUTH ERROR: ".concat(n))}))},pi=[{path:"/recipes",exact:!0,name:"Kategorie przepis\xf3w",component:xn},{path:"/recipes/:category",exact:!0,name:"Przepisy",component:Nn},{path:"/recipes/:category/add",exact:!0,name:"Nowy przepis",component:Rt},{path:"/recipes/:category/:recipe",exact:!0,name:"Podgl\u0105d przepisu",component:Re},{path:"/recipes/:category/:recipe/cooking",exact:!0,name:"Tryb gotowania",component:Ze},{path:"/recipes/:category/:recipe/edit-recipe",exact:!0,name:"Edycja przepisu",component:Rt},{path:"/recipes/:category/:recipe/edit-ingredients",exact:!0,name:"Edycja sk\u0142adnik\xf3w przepisu",component:Mt},{path:"/recipes/:category/:recipe/edit-steps",exact:!0,name:"Edycja krok\xf3w przepisu",component:Xt},{path:"/search",exact:!0,name:"Lista zakup\xf3w",component:ti},{path:"/shoping-list",exact:!0,name:"Lista zakup\xf3w",component:Qt},{path:"/ingredients",exact:!0,name:"Sk\u0142adniki",component:ui},{path:"/profile",exact:!0,name:"Profil",component:function(){var n=Object(i.useContext)(I),e=Object(i.useState)(null),t=Object(Cn.a)(e,2),c=t[0],a=t[1],r=Object(i.useState)(!1),o=Object(Cn.a)(r,2),s=o[0],u=o[1],l=Object(i.useState)("exportdata"),d=Object(Cn.a)(l,2),j=d[0],b=d[1],p=function(e){switch(a(null),u(!0),e){case"RECIPES":b("RecipesDataExport"),li("recipes").then((function(n){return a(n)}));break;case"INGREDIENTS":b("IngredientsDataExport"),li("ingredients").then((function(n){return a(n)}));break;case"SHOPINGLIST":b("ShopingListDataExport"),(t=n.uid,li("shoppingList",t)).then((function(n){return a(n)}));break;default:b("exportdata"),a(null)}var t};return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsxs)(di,{children:[Object(U.jsx)("b",{children:"Zalogowano jako:"}),Object(U.jsx)("br",{}),n.displayName,Object(U.jsx)("br",{}),n.email,Object(U.jsx)(ji,{variant:"danger",block:!0,onClick:bi,children:"Wyloguj z systemu"})]}),Object(U.jsxs)(di,{children:[Object(U.jsx)(ji,{variant:"light",block:!0,onClick:function(){return p("RECIPES")},children:"Eksportuj przepisy"}),Object(U.jsx)(ji,{variant:"light",block:!0,onClick:function(){return p("INGREDIENTS")},children:"Eksportuj sk\u0142adniki"}),Object(U.jsx)(ji,{variant:"light",block:!0,onClick:function(){return p("SHOPINGLIST")},children:"Eksportuj list\u0119 zakup\xf3w"}),s&&Object(U.jsx)(ji,{variant:"warning",block:!0,onClick:function(){var n="data:text/json;charset=utf-8,"+encodeURIComponent(c.toString()),e=document.createElement("a");e.setAttribute("href",n),e.setAttribute("download","".concat(j,".json")),document.body.appendChild(e),e.click(),e.remove(),a(null),u(!1)},style:{marginTop:"20px"},disabled:null===c,children:null===c?"Pobieranie...":"Pobierz plik z danymi"})]})]})}}],xi=function(){return Object(i.useContext)(I)?Object(U.jsx)(en,{children:Object(U.jsx)(s.d,{children:pi.map((function(n,e){return Object(U.jsx)(s.b,{path:n.path,exact:n.exact,name:n.name,render:function(e){return Object(U.jsx)(n.component,Object(o.a)({},e))}},e)}))})}):Object(U.jsx)(s.a,{to:"/"})},Oi=function(){return Object(U.jsx)(u.a,{children:Object(U.jsx)(c.a.Suspense,{fallback:function(){return Object(U.jsx)("span",{children:"Loading..."})},children:Object(U.jsxs)(s.d,{children:[Object(U.jsx)(s.b,{exact:!0,path:"/",name:"Login Page",render:function(n){return Object(U.jsx)(Z,Object(o.a)({},n))}}),Object(U.jsx)(xi,{})]})})})},hi=(t(94),t(95),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function fi(n,e){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var t=n.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}r.a.render(Object(U.jsx)(c.a.StrictMode,{children:Object(U.jsx)(V,{children:Object(U.jsx)(Oi,{})})}),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("/LubFood",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/LubFood","/service-worker.js");hi?(!function(n,e){fetch(n,{headers:{"Service-Worker":"script"}}).then((function(t){var i=t.headers.get("content-type");404===t.status||null!=i&&-1===i.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):fi(n,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):fi(e,n)}))}}()}},[[96,1,2]]]);
//# sourceMappingURL=main.da4a7c00.chunk.js.map